(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7487d0f0"],{"226d":function(t,e,r){"use strict";var n=r("ff99"),s=r.n(n);s.a},"2fdb":function(t,e,r){"use strict";var n=r("5ca1"),s=r("d2c8"),i="includes";n(n.P+n.F*r("5147")(i),"String",{includes:function(t){return!!~s(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},5147:function(t,e,r){var n=r("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,!"/./"[t](e)}catch(s){}}return!0}},"5a08":function(t,e,r){"use strict";var n=r("73ae"),s=r.n(n);s.a},"5df0":function(t,e,r){},6762:function(t,e,r){"use strict";var n=r("5ca1"),s=r("c366")(!0);n(n.P,"Array",{includes:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")("includes")},"73ae":function(t,e,r){},8542:function(t,e,r){},a058:function(t,e,r){"use strict";var n=r("8542"),s=r.n(n);s.a},aae3:function(t,e,r){var n=r("d3f4"),s=r("2d95"),i=r("2b4c")("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==s(t))}},adf8:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"user-profile"}},[r("div",[r("div",{style:"background-image: url("+t.currentUser.avatar+")"}),r("h3",[t._v(t._s(t.currentUser.name))]),t.user.introduction?r("p",[t._v(t._s(t.user.introduction.substring(0,50)))]):r("p",[t._v("no introduction yet")])]),r("div",[r("router-link",{attrs:{to:"/users/"+t.currentUser.id+"/tweets",tag:"p"}},[t._v("Tweets "+t._s(t.currentUser.Tweets.length))]),r("router-link",{attrs:{to:"/users/"+t.currentUser.id+"/followings",tag:"p"}},[t._v("Followings "+t._s(t.currentUser.Followings.length))]),r("router-link",{attrs:{to:"/users/"+t.currentUser.id+"/followers",tag:"p"}},[t._v("Followers "+t._s(t.currentUser.Followers.length))]),r("router-link",{attrs:{to:"/users/"+t.currentUser.id+"/likes",tag:"p"}},[t._v("like "+t._s(t.currentUser.LikedTweets.length))])],1),t.user.id===t.account.id?r("router-link",{attrs:{to:"/users/"+t.account.id+"/edit",tag:"button"}},[t._v("Edit Profile")]):t.isFollowing?r("button",{on:{click:function(e){return t.removeFollowing({UserId:t.currentUser.id})}}},[t._v("Unfollow")]):r("button",{on:{click:function(e){return t.addFollowing({UserId:t.currentUser.id})}}},[t._v("Follow")])],1)},s=[],i=r("cebc"),o=r("2f62"),c={props:{user:Object},data:function(){return{currentUser:Object}},computed:Object(i["a"])({},Object(o["e"])("account",{account:function(t){return t}}),{isFollowing:function(){var t=this;return this.account.Followings.some(function(e){return e.id===t.currentUser.id})}}),beforeMount:function(){this.currentUser=this.user.id===this.account.id?this.account:this.user},methods:Object(i["a"])({},Object(o["b"])("account",["addFollowing","removeFollowing"]))},a=c,u=(r("a058"),r("2877")),l=Object(u["a"])(a,n,s,!1,null,"39aa3a44",null);e["a"]=l.exports},b0c6:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"content"}},[r("div",{staticClass:"container"},[r("user-side-bar",{attrs:{user:t.user}}),r("main",[r("div",{attrs:{id:"user-tweets"}},[r("h3",[t._v(" Tweets")]),r("tweet",{attrs:{tweet:t.tweet,user:t.tweet.User,account:t.account}})],1),r("div",[r("h3",[t._v(" Replies")]),r("div",{attrs:{id:"replies"}},[t._l(t.tweet.Replies,function(t){return[r("reply-card",{key:t.id,attrs:{reply:t}})]})],2),r("div",{attrs:{id:"reply-input"}},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.replyContent,expression:"replyContent"}],attrs:{name:"text",id:"text",cols:"30",rows:"10"},domProps:{value:t.replyContent},on:{input:function(e){e.target.composing||(t.replyContent=e.target.value)}}}),r("button",{on:{click:function(e){return t.checkBeforePost(t.tweet.id)}}},[t._v("Reply")])])])])],1)])},s=[],i=r("cebc"),o=r("b17a"),c=r("d88d"),a=r("adf8"),u=r("2f62"),l={name:"profile",components:{Tweet:o["a"],ReplyCard:c["a"],UserSideBar:a["a"]},computed:Object(i["a"])({},Object(u["e"])("tweet",{tweet:function(t){return t.tweet}}),Object(u["e"])("user",{user:function(t){return t.user}}),Object(u["e"])("account",{account:function(t){return t}})),data:function(){return{replyContent:""}},methods:Object(i["a"])({},Object(u["b"])("tweet",["postReply"]),Object(u["b"])("notification",["addError"]),{checkBeforePost:function(t){""!==this.replyContent?(this.postReply({id:t,comment:this.replyContent,account:this.account}),this.replyContent=""):this.addError("請填入至少一個字！")}})},d=l,p=(r("df9e"),r("2877")),f=Object(p["a"])(d,n,s,!1,null,"1fe978b8",null);e["default"]=f.exports},b17a:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tweets"},[r("img",{attrs:{src:t.user.avatar,alt:t.user.name}}),r("div",[r("div",[r("router-link",{attrs:{to:"/users/"+t.user.id+"/tweets",tag:"span"}},[t._v("@"+t._s(t.user.name))]),r("span",[t._v(", "+t._s(t.date)+", "+t._s(t.time))])],1),r("p",[t._v(t._s(t.tweet.description.substring(0,50)))]),r("div",[r("router-link",{staticClass:"reply",attrs:{to:"/tweets/"+t.tweet.id+"/replies",tag:"span"}},[t._v("Reply("+t._s(t.tweet.Replies.length)+")")]),t.isLiked?r("span",{staticClass:"like",on:{click:function(e){return t.deleteLike(t.account.id,t.tweet.id)}}},[t._v("Unlike("+t._s(t.tweet.LikedUsers.length)+")")]):r("span",{staticClass:"like",on:{click:function(e){return t.postLike(t.account.id,t.tweet.id)}}},[t._v("Like("+t._s(t.tweet.LikedUsers.length)+")")])],1)])])},s=[],i=(r("6762"),r("2fdb"),r("cebc")),o=r("2f62"),c={name:"tweet",props:{tweet:Object,user:Object,account:Object},computed:{isLiked:function(){var t=this;return this.account.LikedTweets.some(function(e){return e.id===t.tweet.id})},date:function(){var t=new Date(this.tweet.createdAt),e=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1;return t.getFullYear()+"-"+e+"-"+t.getDate()},time:function(){var t=new Date(this.tweet.createdAt);return t.getHours()+":"+t.getMinutes()}},methods:Object(i["a"])({},Object(o["d"])("account",["ADD_ACCOUNT_LIKE","REMOVE_ACCOUNT_LIKE"]),Object(o["d"])("tweet",["ADD_TWEET_LIKE","REMOVE_TWEET_LIKE","ADD_TWEETS_LIKE","REMOVE_TWEETS_LIKE"]),Object(o["d"])("user",["ADD_USER_TWEET_LIKE","REMOVE_USER_TWEET_LIKE"]),Object(o["b"])("tweet",["addLike","removeLike"]),{postLike:function(t,e){"/tweets"===this.$route.path||this.$route.path.includes("likes")?(console.log("add like in homepage or Like page"),this.ADD_TWEETS_LIKE({accountId:t,tweetId:e})):this.$route.path.includes("users")?(console.log("add like in profile"),this.ADD_USER_TWEET_LIKE({accountId:t,tweetId:e})):(console.log("add like in reply"),this.ADD_TWEET_LIKE({accountId:t})),this.ADD_ACCOUNT_LIKE({id:e}),this.addLike({accountId:t,tweetId:e})},deleteLike:function(t,e){"/tweets"===this.$route.path||this.$route.path.includes("likes")?(console.log("remove like in homepage or Like page"),this.REMOVE_TWEETS_LIKE({accountId:t,tweetId:e})):this.$route.path.includes("users")?(console.log("remove like in profile"),this.REMOVE_USER_TWEET_LIKE({accountId:t,tweetId:e})):(console.log("remove like in reply"),this.REMOVE_TWEET_LIKE({accountId:t})),this.REMOVE_ACCOUNT_LIKE({tweetId:e}),this.removeLike({accountId:t,tweetId:e})}})},a=c,u=(r("5a08"),r("2877")),l=Object(u["a"])(a,n,s,!1,null,"751d6adb",null);e["a"]=l.exports},d2c8:function(t,e,r){var n=r("aae3"),s=r("be13");t.exports=function(t,e,r){if(n(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(s(t))}},d88d:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"replies"},[r("img",{attrs:{src:t.reply.User.avatar}}),r("div",[r("div",[r("router-link",{attrs:{to:"/users/"+t.reply.userId+"/tweets",tag:"span"}},[t._v("Replying to @"+t._s(t.reply.User.name))]),r("br"),r("span",[t._v(t._s(t.reply.createdAt))])],1),r("p",[t._v(t._s(t.reply.comment.substring(0,50)))])])])},s=[],i={name:"ReplayCard",props:{reply:Object}},o=i,c=(r("226d"),r("2877")),a=Object(c["a"])(o,n,s,!1,null,"e298fc44",null);e["a"]=a.exports},df9e:function(t,e,r){"use strict";var n=r("5df0"),s=r.n(n);s.a},ff99:function(t,e,r){}}]);
//# sourceMappingURL=chunk-7487d0f0.26240884.js.map